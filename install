#!/bin/bash

cd ~
home_dir=`pwd`
cd -
echo "Using $home_dir as home directory"

dotfiles_dir="$home_dir/dotfiles"

if [ ! -f $home_dir/.vimrc ]; then
	echo "Linking .vimrc"
	ln -s $dotfiles_dir/vim/vimrc $home_dir/.vimrc
fi

if [ ! -d "$home_dir/.vim" ]; then
	echo "Linking vim folders"
	mkdir $home_dir/.vim/
fi


if [ ! -d $home_dir/.vim/colors ]; then
	ln -s $dotfiles_dir/vim/colors $home_dir/.vim/colors
fi

if [ ! -d "$home_dir/.vim/bundle/vundle" ]; then
	echo "Installing vundle"
	git clone https://github.com/gmarik/vundle.git $home_dir/.vim/bundle/vundle
fi

echo "Updating Vundle bundles"
vim +BundleInstall +qall

if [ ! -f $home_dir/.tmux.conf ]; then
	echo "Linking .tmux.conf"
	ln -s $dotfiles_dir/tmux/tmux.conf $home_dir/.tmux.conf
fi
